<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PsyProject Music Site</title>
</head>
<body>
    <h1>Welcome to PsyProject Music Site</h1>
    <p>Click on the songs below to listen or stream them:</p>
    <ul id="song-list">
        <li><a href="https://michoworks.github.io/PsyProjectMusic/Hebrew_Remix/6_Foot7Foot.mp3" data-info>6 Foot7Foot</a></li>
        <li><a href="https://michoworks.github.io/PsyProjectMusic/Hebrew_Remix/After_Basdinim.mp3" data-info>After Basdinim</a></li>
        <li><a href="https://michoworks.github.io/PsyProjectMusic/Hebrew_Remix/Arak.mp3" data-info>Arak</a></li>
        <li><a href="https://michoworks.github.io/PsyProjectMusic/Hebrew_Remix/Break_Heart.wav" data-info>Break Heart</a></li>
        <li><a href="https://michoworks.github.io/PsyProjectMusic/Hebrew_Remix/Intelectoars.mp3" data-info>Intelectoars</a></li>
        <li><a href="https://michoworks.github.io/PsyProjectMusic/Hebrew_Remix/LihoraXLow.mp3" data-info>LihoraXLow</a></li>
        <li><a href="https://michoworks.github.io/PsyProjectMusic/Hebrew_Remix/Ma_ata_Gay.mp3" data-info>Ma ata Gay</a></li>
        <li><a href="https://michoworks.github.io/PsyProjectMusic/Hebrew_Remix/Ola_Al_Shulchanot.mp3" data-info>Ola Al Shulchanot</a></li>
        <li><a href="https://michoworks.github.io/PsyProjectMusic/Hebrew_Remix/OldFriend.mp3" data-info>OldFriend</a></li>
        <li><a href="https://michoworks.github.io/PsyProjectMusic/Hebrew_Remix/Player.mp3" data-info>Player</a></li>
        <li><a href="https://michoworks.github.io/PsyProjectMusic/Hebrew_Remix/Pop_It_Up.wma" data-info>Pop It Up</a></li>
        <li><a href="https://michoworks.github.io/PsyProjectMusic/Hebrew_Remix/Shara.wav" data-info>Shara</a></li>
        <li><a href="https://michoworks.github.io/PsyProjectMusic/Hebrew_Remix/TzlilMitar.mp3" data-info>TzlilMitar</a></li>
    </ul>

    <script>
        async function fetchAudioInfo(url) {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const response = await fetch(url);
            const arrayBuffer = await response.arrayBuffer();
            const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);
            return {
                duration: audioBuffer.duration,
                sampleRate: audioBuffer.sampleRate
            };
        }

        document.addEventListener('DOMContentLoaded', async () => {
            const links = document.querySelectorAll('a[data-info]');
            for (const link of links) {
                const info = await fetchAudioInfo(link.href);
                link.dataset.duration = `Duration: ${info.duration.toFixed(2)} seconds`;
                link.dataset.sampleRate = `Sample Rate: ${info.sampleRate} Hz`;
                link.innerText += ` (${link.dataset.duration}, ${link.dataset.sampleRate})`;
            }
        });
    </script>
</body>
</html>
